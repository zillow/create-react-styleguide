const path = require('path');
const chalk = require('chalk');
const copyTemplateDir = require('copy-template-dir');

module.exports = (templateDir, targetDir, templateVars, cb) => {
    copyTemplateDir(templateDir, targetDir, templateVars, (err, createdFiles) => {
        if (err) {
            cb(err);
            return;
        }
        createdFiles.sort().forEach(createdFile => {
            const relativePath = path.relative(targetDir, createdFile);
            // eslint-disable-next-line no-console
            console.log(`  ${chalk.green('create')} ${relativePath}`);
        });
        cb();
    });
};
